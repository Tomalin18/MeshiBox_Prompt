# CardEditScreen 設計實現

## 概述
CardEditScreen 是名片編輯界面，允許用戶編輯名片信息。本文檔記錄了精確的設計實現規格。

## 設計規格

### Header 設計
- **背景**: 白色背景 (#FFFFFF) + 底部陰影
- **高度**: 100px（包含安全區域）
- **返回箭頭**: 左側，橙色 (#FF6B35)，24x24px，16px 邊距
- **標題**: "名刺を編集" 居中，橙色，20px 字體，字重 600
- **保存按鈕**: 右側，橙色 "保存" 文字，16px 字體，字重 500

### 名片圖片區域
- **位置**: 內容區域頂部，全寬度
- **高度**: 200px，居中顯示名片圖片
- **圖片**: 顯示實際掃描的名片
- **背景**: 白色

### 基本信息區塊
- **區塊標題**:
  * 橙色人物圖標，24x24px
  * "基本情報" 文字，橙色 (#FF6B35)，18px，字重 600
  * 右側加號 (+) 圖標，橙色，24x24px

### 語言選擇器
- **"日本語"** 文字帶橙色底線（選中狀態）
- **字體**: 16px，字重 500，橙色
- **右側加號** (+) 圖標，橙色

### 表單字段設計
每個字段具有一致的樣式：
- **高度**: 56px，白色背景，圓角 (8px)
- **左側圖標** (24x24px，灰色) + 16px 左邊距
- **文字輸入區域** 距離圖標 16px 左邊距
- **清除按鈕** 右側 (20x20px，灰色) 當字段有內容時顯示

### 字段詳情
1. **姓名字段**:
   * 人物圖標 + "鴨山かほり" + X 按鈕
2. **職位字段**:
   * 公文包圖標 + "役職" 佔位符（灰色文字）
3. **公司字段**:
   * 建築圖標 + "統一企業集團" + X 按鈕
4. **部門字段**:
   * 文件夾圖標 + "輸入國內事業部" + X 按鈕

### 字段間距
- **垂直間距**: 字段間 8px 間距
- **水平邊距**: 所有字段 16px 邊距
- **區塊標題底部邊距**: 12px

### 內容背景
- **淺灰色背景** (#F8F8F8)
- **白色卡片** 用於所有表單元素

## 技術實現

### 組件結構
```typescript
const CardEditScreen: React.FC<Props> = ({ navigation, route }) => {
  // 狀態管理
  const [cardData, setCardData] = useState<Partial<BusinessCard>>({...});
  
  // 字段渲染函數
  const renderInputField = (icon, placeholder, field, keyboardType) => {...};
  
  // 返回 JSX 結構
  return (...);
};
```

### 主要功能
1. **觸覺反饋**: 所有交互元素都有觸覺反饋
2. **動態清除按鈕**: 只在字段有內容時顯示
3. **鍵盤適配**: 使用 KeyboardAvoidingView 處理鍵盤遮擋
4. **日文輸入支持**: 確保正確的日文文字輸入支持

### 樣式系統
- **主色調**: 橙色 (#FF6B35)
- **背景色**: 淺灰色 (#F8F8F8)
- **卡片背景**: 白色 (#FFFFFF)
- **文字顏色**: 深灰色 (#333333)

### 交互行為
- **返回按鈕**: 觸覺反饋 + 導航返回
- **保存按鈕**: 驗證輸入 + 保存數據 + 觸覺反饋
- **清除按鈕**: 清空字段內容 + 觸覺反饋
- **加號按鈕**: 預留擴展功能

## 實現文件
- **主文件**: `src/screens/CardEditScreen.tsx`
- **類型定義**: `src/types/index.ts`
- **存儲服務**: `src/services/StorageService.ts`

## 設計特點
1. **精確視覺層次**: 嚴格按照設計規格實現
2. **一致性**: 與應用其他界面保持視覺一致性
3. **可用性**: 優化的用戶體驗和交互反饋
4. **本地化**: 完整的日文界面支持

## 更新記錄
- **2024-01-XX**: 初始實現，按照精確設計規格重構界面
- 實現了完整的表單字段系統和交互邏輯
- 添加了觸覺反饋和動畫效果
- 優化了鍵盤處理和輸入體驗 